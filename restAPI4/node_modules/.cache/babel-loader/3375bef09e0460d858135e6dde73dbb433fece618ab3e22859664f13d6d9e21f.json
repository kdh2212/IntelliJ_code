{"ast":null,"code":"import _regeneratorRuntime from \"C:/_dev3/restAPI4/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/_dev3/restAPI4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nexport default {\n  name: 'UserList',\n  data: function data() {\n    return {\n      loading: false,\n      users: [],\n      headers: [{\n        title: 'ID',\n        key: 'id'\n      }, {\n        title: '이름',\n        key: 'name'\n      }, {\n        title: '이메일',\n        key: 'email'\n      }, {\n        title: '나이',\n        key: 'age'\n      }, {\n        title: '작업',\n        key: 'actions',\n        sortable: false\n      }]\n    };\n  },\n  created: function created() {\n    var _this = this;\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _this.fetchUsers();\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    fetchUsers: function fetchUsers() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _this2.loading = true;\n              _context2.prev = 1;\n              _context2.next = 4;\n              return axios.get('http://localhost:9110/api/users');\n            case 4:\n              response = _context2.sent;\n              _this2.users = response.data;\n              _context2.next = 11;\n              break;\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.error('Error fetching users:', _context2.t0);\n            case 11:\n              _context2.prev = 11;\n              _this2.loading = false;\n              return _context2.finish(11);\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[1, 8, 11, 14]]);\n      }))();\n    },\n    deleteUser: function deleteUser(id) {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!confirm('정말로 이 사용자를 삭제하시겠습니까?')) {\n                _context3.next = 11;\n                break;\n              }\n              _context3.prev = 1;\n              _context3.next = 4;\n              return axios[\"delete\"](\"http://localhost:9110/api/users/\".concat(id));\n            case 4:\n              _context3.next = 6;\n              return _this3.fetchUsers();\n            case 6:\n              _context3.next = 11;\n              break;\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.error('Error deleting user:', _context3.t0);\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 8]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","loading","users","headers","title","key","sortable","created","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetchUsers","stop","methods","_this2","_callee2","response","_callee2$","_context2","get","sent","t0","console","error","finish","deleteUser","id","_this3","_callee3","_callee3$","_context3","confirm","concat"],"sources":["C:\\_dev3\\restAPI4\\src\\views\\UserList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-row>\r\n      <v-col>\r\n        <h2>사용자 목록</h2>\r\n        <v-btn color=\"primary\" class=\"mb-4\" to=\"/user/new\">\r\n          새 사용자 추가\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <v-data-table\r\n      :headers=\"headers\"\r\n      :items=\"users\"\r\n      :loading=\"loading\"\r\n    >\r\n      <template #item.actions=\"{ item }\">\r\n        <v-btn\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          :to=\"`/user/${item.id}/edit`\"\r\n        >\r\n          수정\r\n        </v-btn>\r\n        <v-btn\r\n          color=\"error\"\r\n          size=\"small\"\r\n          class=\"ml-2\"\r\n          @click=\"deleteUser(item.id)\"\r\n        >\r\n          삭제\r\n        </v-btn>\r\n      </template>\r\n    </v-data-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'UserList',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      users: [],\r\n      headers: [\r\n        { title: 'ID', key: 'id' },\r\n        { title: '이름', key: 'name' },\r\n        { title: '이메일', key: 'email' },\r\n        { title: '나이', key: 'age' },\r\n        { title: '작업', key: 'actions', sortable: false }\r\n      ]\r\n    }\r\n  },\r\n  async created() {\r\n    await this.fetchUsers()\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      this.loading = true\r\n      try {\r\n        const response = await axios.get('http://localhost:9110/api/users')\r\n        this.users = response.data\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    async deleteUser(id) {\r\n      if (confirm('정말로 이 사용자를 삭제하시겠습니까?')) {\r\n        try {\r\n          await axios.delete(`http://localhost:9110/api/users/${id}`)\r\n          await this.fetchUsers()\r\n        } catch (error) {\r\n          console.error('Error deleting user:', error)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":";;AAsCA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,CACP;QAAEC,KAAK,EAAE,IAAI;QAAEC,GAAG,EAAE;MAAK,CAAC,EAC1B;QAAED,KAAK,EAAE,IAAI;QAAEC,GAAG,EAAE;MAAO,CAAC,EAC5B;QAAED,KAAK,EAAE,KAAK;QAAEC,GAAG,EAAE;MAAQ,CAAC,EAC9B;QAAED,KAAK,EAAE,IAAI;QAAEC,GAAG,EAAE;MAAM,CAAC,EAC3B;QAAED,KAAK,EAAE,IAAI;QAAEC,GAAG,EAAE,SAAS;QAAEC,QAAQ,EAAE;MAAM;IAEnD;EACF,CAAC;EACKC,OAAO,WAAPA,OAAOA,CAAA,EAAG;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACRT,KAAI,CAACU,UAAU,CAAC;UAAA;UAAA;YAAA,OAAAH,QAAA,CAAAI,IAAA;QAAA;MAAA,GAAAP,OAAA;IAAA;EACxB,CAAC;EACDQ,OAAO,EAAE;IACDF,UAAU,WAAVA,UAAUA,CAAA,EAAG;MAAA,IAAAG,MAAA;MAAA,OAAAZ,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAW,SAAA;QAAA,IAAAC,QAAA;QAAA,OAAAb,mBAAA,GAAAG,IAAA,UAAAW,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAT,IAAA,GAAAS,SAAA,CAAAR,IAAA;YAAA;cACjBI,MAAI,CAACpB,OAAM,GAAI,IAAG;cAAAwB,SAAA,CAAAT,IAAA;cAAAS,SAAA,CAAAR,IAAA;cAAA,OAEOnB,KAAK,CAAC4B,GAAG,CAAC,iCAAiC;YAAA;cAA5DH,QAAO,GAAAE,SAAA,CAAAE,IAAA;cACbN,MAAI,CAACnB,KAAI,GAAIqB,QAAQ,CAACvB,IAAG;cAAAyB,SAAA,CAAAR,IAAA;cAAA;YAAA;cAAAQ,SAAA,CAAAT,IAAA;cAAAS,SAAA,CAAAG,EAAA,GAAAH,SAAA;cAEzBI,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAAL,SAAA,CAAAG,EAAO;YAAA;cAAAH,SAAA,CAAAT,IAAA;cAE5CK,MAAI,CAACpB,OAAM,GAAI,KAAI;cAAA,OAAAwB,SAAA,CAAAM,MAAA;YAAA;YAAA;cAAA,OAAAN,SAAA,CAAAN,IAAA;UAAA;QAAA,GAAAG,QAAA;MAAA;IAEvB,CAAC;IACKU,UAAU,WAAVA,UAAUA,CAACC,EAAE,EAAE;MAAA,IAAAC,MAAA;MAAA,OAAAzB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAwB,SAAA;QAAA,OAAAzB,mBAAA,GAAAG,IAAA,UAAAuB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAArB,IAAA,GAAAqB,SAAA,CAAApB,IAAA;YAAA;cAAA,KACfqB,OAAO,CAAC,sBAAsB,CAAC;gBAAAD,SAAA,CAAApB,IAAA;gBAAA;cAAA;cAAAoB,SAAA,CAAArB,IAAA;cAAAqB,SAAA,CAAApB,IAAA;cAAA,OAEzBnB,KAAK,UAAO,oCAAAyC,MAAA,CAAoCN,EAAE,CAAE;YAAA;cAAAI,SAAA,CAAApB,IAAA;cAAA,OACpDiB,MAAI,CAAChB,UAAU,CAAC;YAAA;cAAAmB,SAAA,CAAApB,IAAA;cAAA;YAAA;cAAAoB,SAAA,CAAArB,IAAA;cAAAqB,SAAA,CAAAT,EAAA,GAAAS,SAAA;cAEtBR,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAAO,SAAA,CAAAT,EAAO;YAAA;YAAA;cAAA,OAAAS,SAAA,CAAAlB,IAAA;UAAA;QAAA,GAAAgB,QAAA;MAAA;IAGjD;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}