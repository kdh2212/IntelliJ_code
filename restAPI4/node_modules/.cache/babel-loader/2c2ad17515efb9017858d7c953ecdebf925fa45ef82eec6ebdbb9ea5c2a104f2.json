{"ast":null,"code":"import _regeneratorRuntime from \"C:/_dev3/restAPI4/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/_dev3/restAPI4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'UserForm',\n  data: function data() {\n    return {\n      loading: false,\n      user: {\n        name: '',\n        email: '',\n        age: null\n      }\n    };\n  },\n  computed: {\n    isEdit: function isEdit() {\n      return !!this.$route.params.id;\n    }\n  },\n  created: function created() {\n    var _this = this;\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!_this.isEdit) {\n              _context.next = 3;\n              break;\n            }\n            _context.next = 3;\n            return _this.fetchUser();\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    fetchUser: function fetchUser() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _this2.loading = true;\n              _context2.prev = 1;\n              _context2.next = 4;\n              return axios.get(\"http://localhost:9110/api/users/\".concat(_this2.$route.params.id));\n            case 4:\n              response = _context2.sent;\n              _this2.user = response.data;\n              _context2.next = 11;\n              break;\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.error('Error fetching user:', _context2.t0);\n            case 11:\n              _context2.prev = 11;\n              _this2.loading = false;\n              return _context2.finish(11);\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[1, 8, 11, 14]]);\n      }))();\n    },\n    saveUser: function saveUser() {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _this3.loading = true;\n              _context3.prev = 1;\n              if (!_this3.isEdit) {\n                _context3.next = 7;\n                break;\n              }\n              _context3.next = 5;\n              return axios.put(\"http://localhost:9110/api/users/\".concat(_this3.$route.params.id), _this3.user);\n            case 5:\n              _context3.next = 9;\n              break;\n            case 7:\n              _context3.next = 9;\n              return axios.post('http://localhost:9110/api/users', _this3.user);\n            case 9:\n              _this3.$router.push('/');\n              _context3.next = 15;\n              break;\n            case 12:\n              _context3.prev = 12;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.error('Error saving user:', _context3.t0);\n            case 15:\n              _context3.prev = 15;\n              _this3.loading = false;\n              return _context3.finish(15);\n            case 18:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 12, 15, 18]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","loading","user","email","age","computed","isEdit","$route","params","id","created","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetchUser","stop","methods","_this2","_callee2","response","_callee2$","_context2","get","concat","sent","t0","console","error","finish","saveUser","_this3","_callee3","_callee3$","_context3","put","post","$router","push"],"sources":["C:\\_dev3\\restAPI4\\src\\views\\UserForm.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-row>\r\n      <v-col>\r\n        <h2>{{ isEdit ? '사용자 수정' : '새 사용자 추가' }}</h2>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <v-form @submit.prevent=\"saveUser\" ref=\"form\">\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-text-field\r\n            v-model=\"user.name\"\r\n            label=\"이름\"\r\n            required\r\n          ></v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-text-field\r\n            v-model=\"user.email\"\r\n            label=\"이메일\"\r\n            type=\"email\"\r\n            required\r\n          ></v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-text-field\r\n            v-model.number=\"user.age\"\r\n            label=\"나이\"\r\n            type=\"number\"\r\n            required\r\n          ></v-text-field>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row>\r\n        <v-col>\r\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"loading\">\r\n            저장\r\n          </v-btn>\r\n          <v-btn class=\"ml-2\" to=\"/\">\r\n            취소\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'UserForm',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      user: {\r\n        name: '',\r\n        email: '',\r\n        age: null\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    isEdit() {\r\n      return !!this.$route.params.id\r\n    }\r\n  },\r\n  async created() {\r\n    if (this.isEdit) {\r\n      await this.fetchUser()\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUser() {\r\n      this.loading = true\r\n      try {\r\n        const response = await axios.get(`http://localhost:9110/api/users/${this.$route.params.id}`)\r\n        this.user = response.data\r\n      } catch (error) {\r\n        console.error('Error fetching user:', error)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    async saveUser() {\r\n      this.loading = true\r\n      try {\r\n        if (this.isEdit) {\r\n          await axios.put(`http://localhost:9110/api/users/${this.$route.params.id}`, this.user)\r\n        } else {\r\n          await axios.post('http://localhost:9110/api/users', this.user)\r\n        }\r\n        this.$router.push('/')\r\n      } catch (error) {\r\n        console.error('Error saving user:', error)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}