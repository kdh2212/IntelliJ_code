{"ast":null,"code":"import _regeneratorRuntime from \"C:/_dev3/restAPI4/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/_dev3/restAPI4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/_dev3/restAPI4/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\n// Styles\nimport \"./VMenu.css\";\n\n// Components\nimport { VDialogTransition } from \"../transitions/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VOverlay } from \"../VOverlay/index.mjs\";\nimport { makeVOverlayProps } from \"../VOverlay/VOverlay.mjs\"; // Composables\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\";\nimport { useRtl } from \"../../composables/locale.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useScopeId } from \"../../composables/scopeId.mjs\"; // Utilities\nimport { computed, inject, mergeProps, nextTick, onBeforeUnmount, onDeactivated, provide, ref, shallowRef, watch } from 'vue';\nimport { VMenuSymbol } from \"./shared.mjs\";\nimport { focusableChildren, focusChild, genericComponent, getNextElement, getUid, IN_BROWSER, isClickInsideElement, omit, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport var makeVMenuProps = propsFactory(_objectSpread({\n  // TODO\n  // disableKeys: Boolean,\n  id: String,\n  submenu: Boolean\n}, omit(makeVOverlayProps({\n  closeDelay: 250,\n  closeOnContentClick: true,\n  locationStrategy: 'connected',\n  location: undefined,\n  openDelay: 300,\n  scrim: false,\n  scrollStrategy: 'reposition',\n  transition: {\n    component: VDialogTransition\n  }\n}), ['absolute'])), 'VMenu');\nexport var VMenu = genericComponent()({\n  name: 'VMenu',\n  props: makeVMenuProps(),\n  emits: {\n    'update:modelValue': function updateModelValue(value) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var isActive = useProxiedModel(props, 'modelValue');\n    var _useScopeId = useScopeId(),\n      scopeId = _useScopeId.scopeId;\n    var _useRtl = useRtl(),\n      isRtl = _useRtl.isRtl;\n    var uid = getUid();\n    var id = computed(function () {\n      return props.id || \"v-menu-\".concat(uid);\n    });\n    var overlay = ref();\n    var parent = inject(VMenuSymbol, null);\n    var openChildren = shallowRef(new Set());\n    provide(VMenuSymbol, {\n      register: function register() {\n        openChildren.value.add(uid);\n      },\n      unregister: function unregister() {\n        openChildren.value[\"delete\"](uid);\n      },\n      closeParents: function closeParents(e) {\n        setTimeout(function () {\n          var _overlay$value;\n          if (!openChildren.value.size && !props.persistent && (e == null || (_overlay$value = overlay.value) !== null && _overlay$value !== void 0 && _overlay$value.contentEl && !isClickInsideElement(e, overlay.value.contentEl))) {\n            isActive.value = false;\n            parent === null || parent === void 0 || parent.closeParents();\n          }\n        }, 40);\n      }\n    });\n    onBeforeUnmount(function () {\n      parent === null || parent === void 0 || parent.unregister();\n      document.removeEventListener('focusin', onFocusIn);\n    });\n    onDeactivated(function () {\n      return isActive.value = false;\n    });\n    function onFocusIn(_x) {\n      return _onFocusIn.apply(this, arguments);\n    }\n    function _onFocusIn() {\n      _onFocusIn = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n        var _overlay$value6, _overlay$value7;\n        var before, after, _focusable$, focusable;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              before = e.relatedTarget;\n              after = e.target;\n              _context.next = 4;\n              return nextTick();\n            case 4:\n              if (isActive.value && before !== after && (_overlay$value6 = overlay.value) !== null && _overlay$value6 !== void 0 && _overlay$value6.contentEl && // We're the topmost menu\n              (_overlay$value7 = overlay.value) !== null && _overlay$value7 !== void 0 && _overlay$value7.globalTop &&\n              // It isn't the document or the menu body\n              ![document, overlay.value.contentEl].includes(after) &&\n              // It isn't inside the menu body\n              !overlay.value.contentEl.contains(after)) {\n                focusable = focusableChildren(overlay.value.contentEl);\n                (_focusable$ = focusable[0]) === null || _focusable$ === void 0 || _focusable$.focus();\n              }\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return _onFocusIn.apply(this, arguments);\n    }\n    watch(isActive, function (val) {\n      if (val) {\n        parent === null || parent === void 0 || parent.register();\n        if (IN_BROWSER) {\n          document.addEventListener('focusin', onFocusIn, {\n            once: true\n          });\n        }\n      } else {\n        parent === null || parent === void 0 || parent.unregister();\n        if (IN_BROWSER) {\n          document.removeEventListener('focusin', onFocusIn);\n        }\n      }\n    }, {\n      immediate: true\n    });\n    function onClickOutside(e) {\n      parent === null || parent === void 0 || parent.closeParents(e);\n    }\n    function onKeydown(e) {\n      if (props.disabled) return;\n      if (e.key === 'Tab' || e.key === 'Enter' && !props.closeOnContentClick) {\n        var _overlay$value2;\n        if (e.key === 'Enter' && (e.target instanceof HTMLTextAreaElement || e.target instanceof HTMLInputElement && !!e.target.closest('form'))) return;\n        if (e.key === 'Enter') e.preventDefault();\n        var nextElement = getNextElement(focusableChildren((_overlay$value2 = overlay.value) === null || _overlay$value2 === void 0 ? void 0 : _overlay$value2.contentEl, false), e.shiftKey ? 'prev' : 'next', function (el) {\n          return el.tabIndex >= 0;\n        });\n        if (!nextElement) {\n          var _overlay$value3;\n          isActive.value = false;\n          (_overlay$value3 = overlay.value) === null || _overlay$value3 === void 0 || (_overlay$value3 = _overlay$value3.activatorEl) === null || _overlay$value3 === void 0 || _overlay$value3.focus();\n        }\n      } else if (props.submenu && e.key === (isRtl.value ? 'ArrowRight' : 'ArrowLeft')) {\n        var _overlay$value4;\n        isActive.value = false;\n        (_overlay$value4 = overlay.value) === null || _overlay$value4 === void 0 || (_overlay$value4 = _overlay$value4.activatorEl) === null || _overlay$value4 === void 0 || _overlay$value4.focus();\n      }\n    }\n    function onActivatorKeydown(e) {\n      var _overlay$value5;\n      if (props.disabled) return;\n      var el = (_overlay$value5 = overlay.value) === null || _overlay$value5 === void 0 ? void 0 : _overlay$value5.contentEl;\n      if (el && isActive.value) {\n        if (e.key === 'ArrowDown') {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n          focusChild(el, 'next');\n        } else if (e.key === 'ArrowUp') {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n          focusChild(el, 'prev');\n        } else if (props.submenu) {\n          if (e.key === (isRtl.value ? 'ArrowRight' : 'ArrowLeft')) {\n            isActive.value = false;\n          } else if (e.key === (isRtl.value ? 'ArrowLeft' : 'ArrowRight')) {\n            e.preventDefault();\n            focusChild(el, 'first');\n          }\n        }\n      } else if (props.submenu ? e.key === (isRtl.value ? 'ArrowLeft' : 'ArrowRight') : ['ArrowDown', 'ArrowUp'].includes(e.key)) {\n        isActive.value = true;\n        e.preventDefault();\n        setTimeout(function () {\n          return setTimeout(function () {\n            return onActivatorKeydown(e);\n          });\n        });\n      }\n    }\n    var activatorProps = computed(function () {\n      return mergeProps({\n        'aria-haspopup': 'menu',\n        'aria-expanded': String(isActive.value),\n        'aria-controls': id.value,\n        onKeydown: onActivatorKeydown\n      }, props.activatorProps);\n    });\n    useRender(function () {\n      var _props$location;\n      var overlayProps = VOverlay.filterProps(props);\n      return _createVNode(VOverlay, _mergeProps({\n        \"ref\": overlay,\n        \"id\": id.value,\n        \"class\": ['v-menu', props[\"class\"]],\n        \"style\": props.style\n      }, overlayProps, {\n        \"modelValue\": isActive.value,\n        \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n          return isActive.value = $event;\n        },\n        \"absolute\": true,\n        \"activatorProps\": activatorProps.value,\n        \"location\": (_props$location = props.location) !== null && _props$location !== void 0 ? _props$location : props.submenu ? 'end' : 'bottom',\n        \"onClick:outside\": onClickOutside,\n        \"onKeydown\": onKeydown\n      }, scopeId), {\n        activator: slots.activator,\n        \"default\": function _default() {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return _createVNode(VDefaultsProvider, {\n            \"root\": \"VMenu\"\n          }, {\n            \"default\": function _default() {\n              var _slots$default;\n              return [(_slots$default = slots[\"default\"]) === null || _slots$default === void 0 ? void 0 : _slots$default.call.apply(_slots$default, [slots].concat(args))];\n            }\n          });\n        }\n      });\n    });\n    return forwardRefs({\n      id: id,\n      ΨopenChildren: openChildren\n    }, overlay);\n  }\n});","map":{"version":3,"names":["VDialogTransition","VDefaultsProvider","VOverlay","makeVOverlayProps","forwardRefs","useRtl","useProxiedModel","useScopeId","computed","inject","mergeProps","nextTick","onBeforeUnmount","onDeactivated","provide","ref","shallowRef","watch","VMenuSymbol","focusableChildren","focusChild","genericComponent","getNextElement","getUid","IN_BROWSER","isClickInsideElement","omit","propsFactory","useRender","makeVMenuProps","_objectSpread","id","String","submenu","Boolean","closeDelay","closeOnContentClick","locationStrategy","location","undefined","openDelay","scrim","scrollStrategy","transition","component","VMenu","name","props","emits","updateModelValue","value","setup","_ref","slots","isActive","_useScopeId","scopeId","_useRtl","isRtl","uid","concat","overlay","parent","openChildren","Set","register","add","unregister","closeParents","e","setTimeout","_overlay$value","size","persistent","contentEl","document","removeEventListener","onFocusIn","_x","_onFocusIn","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_overlay$value6","_overlay$value7","before","after","_focusable$","focusable","wrap","_callee$","_context","prev","next","relatedTarget","target","globalTop","includes","contains","focus","stop","val","addEventListener","once","immediate","onClickOutside","onKeydown","disabled","key","_overlay$value2","HTMLTextAreaElement","HTMLInputElement","closest","preventDefault","nextElement","shiftKey","el","tabIndex","_overlay$value3","activatorEl","_overlay$value4","onActivatorKeydown","_overlay$value5","stopImmediatePropagation","activatorProps","_props$location","overlayProps","filterProps","_createVNode","_mergeProps","style","onUpdateModelValue","$event","activator","default","_len","length","args","Array","_key","_slots$default","call","ΨopenChildren"],"sources":["../../../src/components/VMenu/VMenu.tsx"],"sourcesContent":["// Styles\nimport './VMenu.sass'\n\n// Components\nimport { VDialogTransition } from '@/components/transitions'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VOverlay } from '@/components/VOverlay'\nimport { makeVOverlayProps } from '@/components/VOverlay/VOverlay'\n\n// Composables\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useRtl } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useScopeId } from '@/composables/scopeId'\n\n// Utilities\nimport {\n  computed,\n  inject,\n  mergeProps,\n  nextTick,\n  onBeforeUnmount,\n  onDeactivated,\n  provide,\n  ref,\n  shallowRef,\n  watch,\n} from 'vue'\nimport { VMenuSymbol } from './shared'\nimport {\n  focusableChildren,\n  focusChild,\n  genericComponent,\n  getNextElement,\n  getUid,\n  IN_BROWSER,\n  isClickInsideElement,\n  omit,\n  propsFactory,\n  useRender,\n} from '@/util'\n\n// Types\nimport type { Component } from 'vue'\nimport type { OverlaySlots } from '@/components/VOverlay/VOverlay'\n\nexport const makeVMenuProps = propsFactory({\n  // TODO\n  // disableKeys: Boolean,\n  id: String,\n  submenu: Boolean,\n\n  ...omit(makeVOverlayProps({\n    closeDelay: 250,\n    closeOnContentClick: true,\n    locationStrategy: 'connected' as const,\n    location: undefined,\n    openDelay: 300,\n    scrim: false,\n    scrollStrategy: 'reposition' as const,\n    transition: { component: VDialogTransition as Component },\n  }), ['absolute']),\n}, 'VMenu')\n\nexport const VMenu = genericComponent<OverlaySlots>()({\n  name: 'VMenu',\n\n  props: makeVMenuProps(),\n\n  emits: {\n    'update:modelValue': (value: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const { scopeId } = useScopeId()\n    const { isRtl } = useRtl()\n\n    const uid = getUid()\n    const id = computed(() => props.id || `v-menu-${uid}`)\n\n    const overlay = ref<VOverlay>()\n\n    const parent = inject(VMenuSymbol, null)\n    const openChildren = shallowRef(new Set<number>())\n    provide(VMenuSymbol, {\n      register () {\n        openChildren.value.add(uid)\n      },\n      unregister () {\n        openChildren.value.delete(uid)\n      },\n      closeParents (e) {\n        setTimeout(() => {\n          if (!openChildren.value.size &&\n            !props.persistent &&\n            (e == null || (overlay.value?.contentEl && !isClickInsideElement(e, overlay.value.contentEl)))\n          ) {\n            isActive.value = false\n            parent?.closeParents()\n          }\n        }, 40)\n      },\n    })\n\n    onBeforeUnmount(() => {\n      parent?.unregister()\n      document.removeEventListener('focusin', onFocusIn)\n    })\n    onDeactivated(() => isActive.value = false)\n\n    async function onFocusIn (e: FocusEvent) {\n      const before = e.relatedTarget as HTMLElement | null\n      const after = e.target as HTMLElement | null\n\n      await nextTick()\n\n      if (\n        isActive.value &&\n        before !== after &&\n        overlay.value?.contentEl &&\n        // We're the topmost menu\n        overlay.value?.globalTop &&\n        // It isn't the document or the menu body\n        ![document, overlay.value.contentEl].includes(after!) &&\n        // It isn't inside the menu body\n        !overlay.value.contentEl.contains(after)\n      ) {\n        const focusable = focusableChildren(overlay.value.contentEl)\n        focusable[0]?.focus()\n      }\n    }\n\n    watch(isActive, val => {\n      if (val) {\n        parent?.register()\n        if (IN_BROWSER) {\n          document.addEventListener('focusin', onFocusIn, { once: true })\n        }\n      } else {\n        parent?.unregister()\n        if (IN_BROWSER) {\n          document.removeEventListener('focusin', onFocusIn)\n        }\n      }\n    }, { immediate: true })\n\n    function onClickOutside (e: MouseEvent) {\n      parent?.closeParents(e)\n    }\n\n    function onKeydown (e: KeyboardEvent) {\n      if (props.disabled) return\n\n      if (e.key === 'Tab' || (e.key === 'Enter' && !props.closeOnContentClick)) {\n        if (\n          e.key === 'Enter' &&\n          ((e.target instanceof HTMLTextAreaElement) ||\n          (e.target instanceof HTMLInputElement && !!e.target.closest('form')))\n        ) return\n        if (e.key === 'Enter') e.preventDefault()\n\n        const nextElement = getNextElement(\n          focusableChildren(overlay.value?.contentEl as Element, false),\n          e.shiftKey ? 'prev' : 'next',\n          (el: HTMLElement) => el.tabIndex >= 0\n        )\n        if (!nextElement) {\n          isActive.value = false\n          overlay.value?.activatorEl?.focus()\n        }\n      } else if (props.submenu && e.key === (isRtl.value ? 'ArrowRight' : 'ArrowLeft')) {\n        isActive.value = false\n        overlay.value?.activatorEl?.focus()\n      }\n    }\n\n    function onActivatorKeydown (e: KeyboardEvent) {\n      if (props.disabled) return\n\n      const el = overlay.value?.contentEl\n      if (el && isActive.value) {\n        if (e.key === 'ArrowDown') {\n          e.preventDefault()\n          e.stopImmediatePropagation()\n          focusChild(el, 'next')\n        } else if (e.key === 'ArrowUp') {\n          e.preventDefault()\n          e.stopImmediatePropagation()\n          focusChild(el, 'prev')\n        } else if (props.submenu) {\n          if (e.key === (isRtl.value ? 'ArrowRight' : 'ArrowLeft')) {\n            isActive.value = false\n          } else if (e.key === (isRtl.value ? 'ArrowLeft' : 'ArrowRight')) {\n            e.preventDefault()\n            focusChild(el, 'first')\n          }\n        }\n      } else if (\n        props.submenu\n          ? e.key === (isRtl.value ? 'ArrowLeft' : 'ArrowRight')\n          : ['ArrowDown', 'ArrowUp'].includes(e.key)\n      ) {\n        isActive.value = true\n        e.preventDefault()\n        setTimeout(() => setTimeout(() => onActivatorKeydown(e)))\n      }\n    }\n\n    const activatorProps = computed(() =>\n      mergeProps({\n        'aria-haspopup': 'menu',\n        'aria-expanded': String(isActive.value),\n        'aria-controls': id.value,\n        onKeydown: onActivatorKeydown,\n      }, props.activatorProps)\n    )\n\n    useRender(() => {\n      const overlayProps = VOverlay.filterProps(props)\n\n      return (\n        <VOverlay\n          ref={ overlay }\n          id={ id.value }\n          class={[\n            'v-menu',\n            props.class,\n          ]}\n          style={ props.style }\n          { ...overlayProps }\n          v-model={ isActive.value }\n          absolute\n          activatorProps={ activatorProps.value }\n          location={ props.location ?? (props.submenu ? 'end' : 'bottom') }\n          onClick:outside={ onClickOutside }\n          onKeydown={ onKeydown }\n          { ...scopeId }\n        >\n          {{\n            activator: slots.activator,\n            default: (...args) => (\n              <VDefaultsProvider root=\"VMenu\">\n                { slots.default?.(...args) }\n              </VDefaultsProvider>\n            ),\n          }}\n        </VOverlay>\n      )\n    })\n\n    return forwardRefs({ id, ΨopenChildren: openChildren }, overlay)\n  },\n})\n\nexport type VMenu = InstanceType<typeof VMenu>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}