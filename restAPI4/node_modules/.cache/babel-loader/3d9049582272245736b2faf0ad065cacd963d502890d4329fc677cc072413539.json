{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\n// Composables\nimport { useToggleScope } from \"../../composables/toggleScope.mjs\";\nimport { useVelocity } from \"../../composables/touch.mjs\"; // Utilities\nimport { computed, onBeforeUnmount, onMounted, onScopeDispose, shallowRef, watchEffect } from 'vue';\n\n// Types\n\nexport function useTouch(_ref) {\n  var el = _ref.el,\n    isActive = _ref.isActive,\n    isTemporary = _ref.isTemporary,\n    width = _ref.width,\n    touchless = _ref.touchless,\n    position = _ref.position;\n  onMounted(function () {\n    window.addEventListener('touchstart', onTouchstart, {\n      passive: true\n    });\n    window.addEventListener('touchmove', onTouchmove, {\n      passive: false\n    });\n    window.addEventListener('touchend', onTouchend, {\n      passive: true\n    });\n  });\n  onBeforeUnmount(function () {\n    window.removeEventListener('touchstart', onTouchstart);\n    window.removeEventListener('touchmove', onTouchmove);\n    window.removeEventListener('touchend', onTouchend);\n  });\n  var isHorizontal = computed(function () {\n    return ['left', 'right'].includes(position.value);\n  });\n  var _useVelocity = useVelocity(),\n    addMovement = _useVelocity.addMovement,\n    endTouch = _useVelocity.endTouch,\n    getVelocity = _useVelocity.getVelocity;\n  var maybeDragging = false;\n  var isDragging = shallowRef(false);\n  var dragProgress = shallowRef(0);\n  var offset = shallowRef(0);\n  var start;\n  function getOffset(pos, active) {\n    return (position.value === 'left' ? pos : position.value === 'right' ? document.documentElement.clientWidth - pos : position.value === 'top' ? pos : position.value === 'bottom' ? document.documentElement.clientHeight - pos : oops()) - (active ? width.value : 0);\n  }\n  function getProgress(pos) {\n    var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var progress = position.value === 'left' ? (pos - offset.value) / width.value : position.value === 'right' ? (document.documentElement.clientWidth - pos - offset.value) / width.value : position.value === 'top' ? (pos - offset.value) / width.value : position.value === 'bottom' ? (document.documentElement.clientHeight - pos - offset.value) / width.value : oops();\n    return limit ? Math.max(0, Math.min(1, progress)) : progress;\n  }\n  function onTouchstart(e) {\n    if (touchless.value) return;\n    var touchX = e.changedTouches[0].clientX;\n    var touchY = e.changedTouches[0].clientY;\n    var touchZone = 25;\n    var inTouchZone = position.value === 'left' ? touchX < touchZone : position.value === 'right' ? touchX > document.documentElement.clientWidth - touchZone : position.value === 'top' ? touchY < touchZone : position.value === 'bottom' ? touchY > document.documentElement.clientHeight - touchZone : oops();\n    var inElement = isActive.value && (position.value === 'left' ? touchX < width.value : position.value === 'right' ? touchX > document.documentElement.clientWidth - width.value : position.value === 'top' ? touchY < width.value : position.value === 'bottom' ? touchY > document.documentElement.clientHeight - width.value : oops());\n    if (inTouchZone || inElement || isActive.value && isTemporary.value) {\n      start = [touchX, touchY];\n      offset.value = getOffset(isHorizontal.value ? touchX : touchY, isActive.value);\n      dragProgress.value = getProgress(isHorizontal.value ? touchX : touchY);\n      maybeDragging = offset.value > -20 && offset.value < 80;\n      endTouch(e);\n      addMovement(e);\n    }\n  }\n  function onTouchmove(e) {\n    var touchX = e.changedTouches[0].clientX;\n    var touchY = e.changedTouches[0].clientY;\n    if (maybeDragging) {\n      if (!e.cancelable) {\n        maybeDragging = false;\n        return;\n      }\n      var dx = Math.abs(touchX - start[0]);\n      var dy = Math.abs(touchY - start[1]);\n      var thresholdMet = isHorizontal.value ? dx > dy && dx > 3 : dy > dx && dy > 3;\n      if (thresholdMet) {\n        isDragging.value = true;\n        maybeDragging = false;\n      } else if ((isHorizontal.value ? dy : dx) > 3) {\n        maybeDragging = false;\n      }\n    }\n    if (!isDragging.value) return;\n    e.preventDefault();\n    addMovement(e);\n    var progress = getProgress(isHorizontal.value ? touchX : touchY, false);\n    dragProgress.value = Math.max(0, Math.min(1, progress));\n    if (progress > 1) {\n      offset.value = getOffset(isHorizontal.value ? touchX : touchY, true);\n    } else if (progress < 0) {\n      offset.value = getOffset(isHorizontal.value ? touchX : touchY, false);\n    }\n  }\n  function onTouchend(e) {\n    maybeDragging = false;\n    if (!isDragging.value) return;\n    addMovement(e);\n    isDragging.value = false;\n    var velocity = getVelocity(e.changedTouches[0].identifier);\n    var vx = Math.abs(velocity.x);\n    var vy = Math.abs(velocity.y);\n    var thresholdMet = isHorizontal.value ? vx > vy && vx > 400 : vy > vx && vy > 3;\n    if (thresholdMet) {\n      isActive.value = velocity.direction === ({\n        left: 'right',\n        right: 'left',\n        top: 'down',\n        bottom: 'up'\n      }[position.value] || oops());\n    } else {\n      isActive.value = dragProgress.value > 0.5;\n    }\n  }\n  var dragStyles = computed(function () {\n    return isDragging.value ? {\n      transform: position.value === 'left' ? \"translateX(calc(-100% + \".concat(dragProgress.value * width.value, \"px))\") : position.value === 'right' ? \"translateX(calc(100% - \".concat(dragProgress.value * width.value, \"px))\") : position.value === 'top' ? \"translateY(calc(-100% + \".concat(dragProgress.value * width.value, \"px))\") : position.value === 'bottom' ? \"translateY(calc(100% - \".concat(dragProgress.value * width.value, \"px))\") : oops(),\n      transition: 'none'\n    } : undefined;\n  });\n  useToggleScope(isDragging, function () {\n    var _el$value$style$trans, _el$value, _el$value$style$trans2, _el$value2;\n    var transform = (_el$value$style$trans = (_el$value = el.value) === null || _el$value === void 0 ? void 0 : _el$value.style.transform) !== null && _el$value$style$trans !== void 0 ? _el$value$style$trans : null;\n    var transition = (_el$value$style$trans2 = (_el$value2 = el.value) === null || _el$value2 === void 0 ? void 0 : _el$value2.style.transition) !== null && _el$value$style$trans2 !== void 0 ? _el$value$style$trans2 : null;\n    watchEffect(function () {\n      var _el$value3, _dragStyles$value, _el$value4, _dragStyles$value2;\n      (_el$value3 = el.value) === null || _el$value3 === void 0 || _el$value3.style.setProperty('transform', ((_dragStyles$value = dragStyles.value) === null || _dragStyles$value === void 0 ? void 0 : _dragStyles$value.transform) || 'none');\n      (_el$value4 = el.value) === null || _el$value4 === void 0 || _el$value4.style.setProperty('transition', ((_dragStyles$value2 = dragStyles.value) === null || _dragStyles$value2 === void 0 ? void 0 : _dragStyles$value2.transition) || null);\n    });\n    onScopeDispose(function () {\n      var _el$value5, _el$value6;\n      (_el$value5 = el.value) === null || _el$value5 === void 0 || _el$value5.style.setProperty('transform', transform);\n      (_el$value6 = el.value) === null || _el$value6 === void 0 || _el$value6.style.setProperty('transition', transition);\n    });\n  });\n  return {\n    isDragging: isDragging,\n    dragProgress: dragProgress,\n    dragStyles: dragStyles\n  };\n}\nfunction oops() {\n  throw new Error();\n}","map":{"version":3,"names":["useToggleScope","useVelocity","computed","onBeforeUnmount","onMounted","onScopeDispose","shallowRef","watchEffect","useTouch","_ref","el","isActive","isTemporary","width","touchless","position","window","addEventListener","onTouchstart","passive","onTouchmove","onTouchend","removeEventListener","isHorizontal","includes","value","_useVelocity","addMovement","endTouch","getVelocity","maybeDragging","isDragging","dragProgress","offset","start","getOffset","pos","active","document","documentElement","clientWidth","clientHeight","oops","getProgress","limit","arguments","length","undefined","progress","Math","max","min","e","touchX","changedTouches","clientX","touchY","clientY","touchZone","inTouchZone","inElement","cancelable","dx","abs","dy","thresholdMet","preventDefault","velocity","identifier","vx","x","vy","y","direction","left","right","top","bottom","dragStyles","transform","concat","transition","_el$value$style$trans","_el$value","_el$value$style$trans2","_el$value2","style","_el$value3","_dragStyles$value","_el$value4","_dragStyles$value2","setProperty","_el$value5","_el$value6","Error"],"sources":["../../../src/components/VNavigationDrawer/touch.ts"],"sourcesContent":["// Composables\nimport { useToggleScope } from '@/composables/toggleScope'\nimport { useVelocity } from '@/composables/touch'\n\n// Utilities\nimport { computed, onBeforeUnmount, onMounted, onScopeDispose, shallowRef, watchEffect } from 'vue'\n\n// Types\nimport type { Ref } from 'vue'\n\nexport function useTouch ({\n  el,\n  isActive,\n  isTemporary,\n  width,\n  touchless,\n  position,\n}: {\n  el: Ref<HTMLElement | undefined>\n  isActive: Ref<boolean>\n  isTemporary: Ref<boolean>\n  width: Ref<number>\n  touchless: Ref<boolean>\n  position: Ref<'left' | 'right' | 'top' | 'bottom'>\n}) {\n  onMounted(() => {\n    window.addEventListener('touchstart', onTouchstart, { passive: true })\n    window.addEventListener('touchmove', onTouchmove, { passive: false })\n    window.addEventListener('touchend', onTouchend, { passive: true })\n  })\n\n  onBeforeUnmount(() => {\n    window.removeEventListener('touchstart', onTouchstart)\n    window.removeEventListener('touchmove', onTouchmove)\n    window.removeEventListener('touchend', onTouchend)\n  })\n\n  const isHorizontal = computed(() => ['left', 'right'].includes(position.value))\n\n  const { addMovement, endTouch, getVelocity } = useVelocity()\n  let maybeDragging = false\n  const isDragging = shallowRef(false)\n  const dragProgress = shallowRef(0)\n  const offset = shallowRef(0)\n  let start: [number, number] | undefined\n\n  function getOffset (pos: number, active: boolean): number {\n    return (\n      position.value === 'left' ? pos\n      : position.value === 'right' ? document.documentElement.clientWidth - pos\n      : position.value === 'top' ? pos\n      : position.value === 'bottom' ? document.documentElement.clientHeight - pos\n      : oops()\n    ) - (active ? width.value : 0)\n  }\n\n  function getProgress (pos: number, limit = true): number {\n    const progress = (\n      position.value === 'left' ? (pos - offset.value) / width.value\n      : position.value === 'right' ? (document.documentElement.clientWidth - pos - offset.value) / width.value\n      : position.value === 'top' ? (pos - offset.value) / width.value\n      : position.value === 'bottom' ? (document.documentElement.clientHeight - pos - offset.value) / width.value\n      : oops()\n    )\n    return limit ? Math.max(0, Math.min(1, progress)) : progress\n  }\n\n  function onTouchstart (e: TouchEvent) {\n    if (touchless.value) return\n\n    const touchX = e.changedTouches[0].clientX\n    const touchY = e.changedTouches[0].clientY\n\n    const touchZone = 25\n    const inTouchZone: boolean =\n      position.value === 'left' ? touchX < touchZone\n      : position.value === 'right' ? touchX > document.documentElement.clientWidth - touchZone\n      : position.value === 'top' ? touchY < touchZone\n      : position.value === 'bottom' ? touchY > document.documentElement.clientHeight - touchZone\n      : oops()\n\n    const inElement: boolean = isActive.value && (\n      position.value === 'left' ? touchX < width.value\n      : position.value === 'right' ? touchX > document.documentElement.clientWidth - width.value\n      : position.value === 'top' ? touchY < width.value\n      : position.value === 'bottom' ? touchY > document.documentElement.clientHeight - width.value\n      : oops()\n    )\n\n    if (\n      inTouchZone ||\n      inElement ||\n      (isActive.value && isTemporary.value)\n    ) {\n      start = [touchX, touchY]\n\n      offset.value = getOffset(isHorizontal.value ? touchX : touchY, isActive.value)\n      dragProgress.value = getProgress(isHorizontal.value ? touchX : touchY)\n\n      maybeDragging = offset.value > -20 && offset.value < 80\n      endTouch(e)\n      addMovement(e)\n    }\n  }\n\n  function onTouchmove (e: TouchEvent) {\n    const touchX = e.changedTouches[0].clientX\n    const touchY = e.changedTouches[0].clientY\n\n    if (maybeDragging) {\n      if (!e.cancelable) {\n        maybeDragging = false\n        return\n      }\n\n      const dx = Math.abs(touchX - start![0])\n      const dy = Math.abs(touchY - start![1])\n\n      const thresholdMet = isHorizontal.value\n        ? dx > dy && dx > 3\n        : dy > dx && dy > 3\n\n      if (thresholdMet) {\n        isDragging.value = true\n        maybeDragging = false\n      } else if ((isHorizontal.value ? dy : dx) > 3) {\n        maybeDragging = false\n      }\n    }\n\n    if (!isDragging.value) return\n\n    e.preventDefault()\n    addMovement(e)\n\n    const progress = getProgress(isHorizontal.value ? touchX : touchY, false)\n    dragProgress.value = Math.max(0, Math.min(1, progress))\n\n    if (progress > 1) {\n      offset.value = getOffset(isHorizontal.value ? touchX : touchY, true)\n    } else if (progress < 0) {\n      offset.value = getOffset(isHorizontal.value ? touchX : touchY, false)\n    }\n  }\n\n  function onTouchend (e: TouchEvent) {\n    maybeDragging = false\n\n    if (!isDragging.value) return\n\n    addMovement(e)\n\n    isDragging.value = false\n\n    const velocity = getVelocity(e.changedTouches[0].identifier)\n    const vx = Math.abs(velocity.x)\n    const vy = Math.abs(velocity.y)\n    const thresholdMet = isHorizontal.value\n      ? vx > vy && vx > 400\n      : vy > vx && vy > 3\n\n    if (thresholdMet) {\n      isActive.value = velocity.direction === ({\n        left: 'right',\n        right: 'left',\n        top: 'down',\n        bottom: 'up',\n      }[position.value] || oops())\n    } else {\n      isActive.value = dragProgress.value > 0.5\n    }\n  }\n\n  const dragStyles = computed(() => {\n    return isDragging.value ? {\n      transform:\n        position.value === 'left' ? `translateX(calc(-100% + ${dragProgress.value * width.value}px))`\n        : position.value === 'right' ? `translateX(calc(100% - ${dragProgress.value * width.value}px))`\n        : position.value === 'top' ? `translateY(calc(-100% + ${dragProgress.value * width.value}px))`\n        : position.value === 'bottom' ? `translateY(calc(100% - ${dragProgress.value * width.value}px))`\n        : oops(),\n      transition: 'none',\n    } : undefined\n  })\n\n  useToggleScope(isDragging, () => {\n    const transform = el.value?.style.transform ?? null\n    const transition = el.value?.style.transition ?? null\n\n    watchEffect(() => {\n      el.value?.style.setProperty('transform', dragStyles.value?.transform || 'none')\n      el.value?.style.setProperty('transition', dragStyles.value?.transition || null)\n    })\n\n    onScopeDispose(() => {\n      el.value?.style.setProperty('transform', transform)\n      el.value?.style.setProperty('transition', transition)\n    })\n  })\n\n  return {\n    isDragging,\n    dragProgress,\n    dragStyles,\n  }\n}\n\nfunction oops (): never {\n  throw new Error()\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}